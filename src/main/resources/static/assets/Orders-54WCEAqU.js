import{g as y}from"./orderService-B2zWn-JY.js";import{r as h,b as i,d as t,F as p,e as g,k as f,o as c,t as r,f as k,i as v,m as C,s as P}from"./index-zOS9CooQ.js";const E={class:"orders"},N={class:"container"},G={class:"table table-bordered my-4"},$={class:"text-center"},w={class:"pagination d-flex justify-content-center pt-2"},z={class:"btn-group",role:"group"},B=["disabled"],L=["disabled"],M=["onClick"],O=["disabled"],S=["disabled"],d=5,D={__name:"Orders",setup(V){const s=h({args:{page:0,size:5},page:{index:0,totalPages:0,totalElements:0},orders:[]}),o=()=>{const n=Math.floor(s.page.index/d)*d,e=Math.min(n+d,s.page.totalPages);return{start:n,end:e}},b=()=>{const{start:n}=o(),e=Math.max(0,n-d);l(e)},m=()=>{const{start:n}=o(),e=n+d;e<=s.page.totalPages-1&&l(e)},_=n=>s.page.totalElements-n-s.args.size*s.page.index,l=async n=>{n!==void 0&&(s.args.page=n);const e=await y(s.args);e.status===200&&(s.orders=e.data.content,s.page.index=e.data.number,s.page.totalPages=e.data.totalPages,s.page.totalElements=e.data.totalElements)};return async function(){await l()}(),(n,e)=>{const x=f("router-link");return c(),i("div",E,[t("div",N,[t("table",G,[e[3]||(e[3]=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"번호"),t("th",null,"주문자명"),t("th",null,"결제 수단"),t("th",null,"결제 금액"),t("th",null,"결제일시"),t("th",null,"자세히 보기")])],-1)),t("tbody",null,[(c(!0),i(p,null,g(s.orders,(a,u)=>(c(),i("tr",null,[t("td",$,r(_(u)),1),t("td",null,r(a.name),1),t("td",null,r(a.payment==="card"?"카드":"무통장입금"),1),t("td",null,r(a.amount.toLocaleString())+"원",1),t("td",null,r(a.created),1),t("td",null,[k(x,{to:`/orders/${a.id}`},{default:v(()=>[...e[2]||(e[2]=[C("자세히 보기",-1)])]),_:1},8,["to"])])]))),256))])]),t("div",w,[t("div",z,[t("button",{class:"btn py-2 px-3 btn-outline-secondary",onClick:b,disabled:o().start===0}," << ",8,B),t("button",{class:"btn py-2 px-3 btn-outline-secondary",onClick:e[0]||(e[0]=a=>l(s.page.index-1)),disabled:s.page.index===0}," < ",8,L),(c(!0),i(p,null,g(o().end-o().start,a=>(c(),i("button",{key:a,onClick:u=>l(o().start+a-1),class:P([[s.page.index===o().start+a-1?"btn-primary":"btn-outline-secondary"],"btn py-2 px-3"])},r(o().start+a),11,M))),128)),t("button",{class:"btn py-2 px-3 btn-outline-secondary",onClick:e[1]||(e[1]=a=>l(s.page.index+1)),disabled:s.page.index===s.page.totalPages-1}," > ",8,O),t("button",{class:"btn py-2 px-3 btn-outline-secondary",onClick:m,disabled:o().start+d>=s.page.totalPages}," >> ",8,S)])])])])}}};export{D as default};
