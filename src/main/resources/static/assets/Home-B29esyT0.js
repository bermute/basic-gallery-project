import{h as u,c as _,u as p,a as g,b as c,o as n,d as s,n as h,t as o,r as b,F as f,e as w,f as v}from"./index-zOS9CooQ.js";import{a as x}from"./cartService-BhVUEosc.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $=()=>u.get("/v1/api/items").catch(a=>a.response),S={class:"card shadow-sm"},I=["aria-label"],P={class:"card-body"},N={class:"card-text"},k={class:"me-2"},C={class:"discount badge bg-danger"},B={class:"d-flex justify-content-between align-items-center"},L={class:"price text-muted"},D={class:"real text-danger"},F={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number}},setup(a){const t=a,i=_(()=>(t.item.price-t.item.price*t.item.discountPer/100).toLocaleString()),e=p(),r=g(),m=async()=>{if(!r.loggedIn){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&await e.push("/login");return}(await x(t.item.id)).status===200&&window.confirm("장바구니에 상품을 담았습니다. 장바구니로 이동하시겠습니까?")&&await e.push("/cart")};return(l,d)=>(n(),c("div",S,[s("span",{class:"img",style:h({backgroundImage:`url(${t.item.imgPath})`}),"aria-label":`상품 사진(${t.item.name})`},null,12,I),s("div",P,[s("p",N,[s("span",k,o(t.item.name),1),s("span",C,o(t.item.discountPer)+"%",1)]),s("div",B,[s("button",{class:"btn btn-primary btn-sm",onClick:d[0]||(d[0]=E=>m())},"장바구니 담기"),s("small",L,o(t.item.price.toLocaleString())+"원",1),s("small",D,o(i.value)+"원",1)])])]))}},R=y(F,[["__scopeId","data-v-445e6912"]]),V={class:"home"},j={class:"album py-5 bg-light"},q={class:"container"},z={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},A={class:"col"},K={__name:"Home",setup(a){const t=b({items:[]});return async function(){const e=await $();e.status===200&&(t.items=e.data)}(),(i,e)=>(n(),c("div",V,[s("div",j,[s("div",q,[s("div",z,[(n(!0),c(f,null,w(t.items,r=>(n(),c("div",A,[v(R,{item:r},null,8,["item"])]))),256))])])])]))}};export{K as default};
